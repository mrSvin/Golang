<h1 align="center">Авторезация через JWT на Go + PostgreSQL</h1>

## Необходисые зависимости для запуска
- go get github.com/lib/pq
- go get github.com/golang-jwt/jwt/v4

## В базе данных необходима схема auth, в ней таблица auth_jwt, в неё для примера добавлем двух пользователей:
![image](https://user-images.githubusercontent.com/59051004/209807039-3419c076-c165-4a7f-9548-0a65b2eb387a.png)

## Реализованные функции
- Авторизация через логин и пароль, проверка производится в предварительно добавленных юзеров в БД PostgreSQL;
- На основании корректного логина и пароля генерируется jwt токен с длительностью валидности 24 часа;
- При успешной авторизации сгенерированный токен сохраняется в куки, а также передается в сообщении;
- Функция логаута, после выполнения которой токен с куки стерается;
- Запрос на получение контента на основании jwt токена в куки (более удобен для авторизации с фронта);
- Запрос на получение контента на основании jwt токена в хидере Authorization Bearer Token (альтернатива для микросервисной авторизации);
- При невалидном токене, невалидном логине или пароле вывод сообщений об этом.

## Тестирование сервиса с помощью Postman
Авторизация:

![image](https://user-images.githubusercontent.com/59051004/209806769-1a21f57b-1e18-4cd3-95c3-a0ed8a1c61d8.png)

Логаут:

![image](https://user-images.githubusercontent.com/59051004/209807175-87020053-2131-4aa7-a641-75286f557759.png)

Получение контента на основании jwt в куки:

![image](https://user-images.githubusercontent.com/59051004/209807392-168d30b8-70bd-4778-b51d-a7553f04cecb.png)

Получение контента на основании Authorization Bearer Token:

![image](https://user-images.githubusercontent.com/59051004/209807984-9f987ba8-3982-4b89-af2b-64ced2a16c81.png)

Попытка авторизации при некорректном пароле:

![image](https://user-images.githubusercontent.com/59051004/209808315-194169a9-da95-4a4f-9c9e-7b77c8a538cb.png)

Попытка получение контента при невалидном токене:

![image](https://user-images.githubusercontent.com/59051004/209808465-95fc1261-2e8c-4512-a08d-8b08a38cd096.png)
